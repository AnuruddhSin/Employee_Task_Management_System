<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 ,maximum-scale=1">
    <title>Manage Task</title>
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="stylesheet" href="static/css/admin_dashboard_css/style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="static/js/admin_dashboard_js/script.js"></script>
</head>
<body>
<input type="checkbox" id="nav-toggle">
{% include 'admin_dashboard/sidebar_template.html' %}
<div class="main-content">
    <header>
        <h2>
            <label for="nav-toggle">
                <span class="las la-bars"></span>
            </label>
            Manage Task Dashboard
        </h2>
        <div class="search-wrapper">
    <span class="las la-search"></span>
    <input type="search" id="taskSearch" name="taskSearch" placeholder="Search By Tasks Id " oninput="filterJobs()">
</div>

        <div class="user-wrapper">
            <img src="static/img/Anuruddh.jpg" width="40px" height="40px" alt="">
            <div>
                <h4>Anuruddh Singh</h4>
                <small>Admin</small>
            </div>
        </div>
    </header>

    <div class="manage_employee">
        <!-- <section class="recent"> -->
            <div class="activity-card">
                <div class="card-header">
                    <h1>Tasks</h1>
                </div>

                <table>
                    <thead>
                    <tr>
                        <th>Task Id</th>
                        <th>Task Name</th>
                        <th>Assign To</th>
                        <th>Deadline</th>
                        <th>Status</th>
                        <th>Priority</th>
                        <th>View</th>
                        <th>Update</th>
                    </tr>
                    </thead>
                    <tbody>

                    {% for row in task %}
                    <tr>
                        <td data-label="Task Id">{{ row.1 }}</td>
                        <td data-label="Task Name">{{ row.2 }}</td>
                        <td data-label="Assign To">{{ row.3 }}
                        </td>
                        <td data-label="Deadline">{{ row.5 }}</td>
                        <td data-label="Status">
                            <span class="badge success">{{ row.6 }}</span>
                        </td>
                        <td data-label="Priority">{{ row.4 }}</td>
                        <td data-label="View">
                <a href="/admin view task?task_id={{ row.1 }}"><i class='las la-eye' style="font-size: 1.8rem; color: aliceblue;"></i></a>
            </td>
            <td data-label="Update"><a href ="/admin_edit_task?task_id={{ row.1 }}"><button class="badge success"  >Update</button></a></td>
                    </tr>
                    {% endfor %}

                    </tbody>
                </table>
            </div>

        </div>
    <div class="last-text">
      <p>All Copyrights &COPY;ANNI Reserved</p>
    </div>
    </div>
<script>
function filterJobs() {
    var input = document.getElementById("taskSearch");
    var filter = input.value.toLowerCase();
    var table = document.querySelector("table");
    var rows = table.querySelectorAll("tbody tr");

    rows.forEach(function(row) {
        var task_idCell = row.querySelector("td[data-label='Task Id']");
        if (task_idCell) {
            var task_id = task_idCell.textContent.toLowerCase();
            if (task_id.indexOf(filter) > -1) {
                row.style.display = "";
            } else {
                row.style.display = "none";
            }
        }
    });
}
</script>

</body>
</html>